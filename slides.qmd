---
title: "(R)eflex√µes sobre a linguagem R"
format: revealjs
---

## Introdu√ß√£o

Nesta apresenta√ß√£o, vamos explorar a hist√≥ria da linguagem R e seus fundamentos, contextualizando seu papel na an√°lise de dados e pesquisa cient√≠fica.

---

## Origens da linguagem R

- O artigo [R: A Language for Data Analysis and Graphics](https://www.jstor.org/stable/1390807?seq=1#page_scan_tab_contents)[^1], escrito pelos desenvolvedores da linguagem `George Ross Ihaka` e `Robert Clifford Gentleman`, marca o in√≠cio de uma nova era no processamento e an√°lise de dados: o desenvolvimento do software R.
- Inspirada nas linguagem **Scheme** (1975) e **S** (1985).
- Nome "R" em homenagem aos nomes dos criadores e como refer√™ncia √† linguagem S.

[^1]: https://www.jstor.org/stable/1390807?seq=1#page_scan_tab_contents

![Criadores do R](figs/autores_r.png)

---

## Filosofia do R

- Software livre e de c√≥digo aberto (licen√ßa GPL).
- Suportado pela comunidade e mantido pelo **R Core Team**.
- Projetado para an√°lise estat√≠stica, visualiza√ß√£o de dados e reprodutibilidade.

---

## Evolu√ß√£o da linguagem

- 1995: Primeira vers√£o p√∫blica do R.
- 2000: R 1.0.0 √© lan√ßado oficialmente.
- Crescimento exponencial em pacotes, usu√°rios e contribui√ß√µes.
- Surgimento do CRAN (Comprehensive R Archive Network) como reposit√≥rio central.

---

## Comunidade e ecossistema

- Mais de 20.000 pacotes dispon√≠veis no CRAN.
- Uso difundido em estat√≠stica, bioinform√°tica, economia, agronomia, etc.
- Ferramentas modernas: RStudio, Positron, Tidyverse, Quarto, Shiny.

---

## Uma vis√£o geral (R)

```{r}
#| echo: false


## Downloads in the specified time interval
library(cranlogs)
library(tidyverse)
library(scales)
library(glue)
# dfc <- cran_downloads("R", from = "2000-01-01", to = "2025-06-25")
df2 <- 
  read.csv("download_r.csv") |> 
  mutate(date = ymd(date))
# df2 <- 
#   dfp |> 
#   filter(count != 0 & os != "NA") |> 
#   mutate(date = ymd(date)) |> 
#   group_by(date, os) |> 
#   summarise(count = sum(count, na.rm = TRUE))

# write.csv(df2, "download_r.csv")


ggplot(df2, aes(date, count)) +
  geom_smooth(aes(color = os), se = FALSE) +
  labs(x = "Data",
       y = "N√∫mero de downloads do software R") +
  theme_minimal() +
  labs(title = glue::glue("N√∫mero total de downloads do R: {sum(df2$count)}"))

```



---

## Uma vis√£o geral (pacotes)
```{r}
library(rvest)
library(httr)
library(stringr)
library(lubridate)
library(dplyr)
library(furrr)
library(tibble)
library(future)
library(scales)
## Downloads in the specified time interval
# dfp <- cran_downloads(from = "2000-01-01", to = "2025-06-25")

# df2 <- 
#   dfp |> 
#   filter(count != 0) |> 
#   mutate(date = ymd(date))

# write.csv(df2, "download_pack.csv")
df2 <- read.csv("download_pack.csv")


# first_pub_date_r <- function(pkg = NULL, .parallel = TRUE, .workers = NULL) {
#   pkgs <- 
#     available.packages() |> 
#     as.data.frame() |> 
#     rownames_to_column("pkgname")
#   
#   if(!is.null(pkg)){
#     pkgs <- 
#       pkgs |> 
#       dplyr::filter(pkgname %in% pkg)
#   }
#   
#   get_pub_date <- function(pkg){
#     url <- paste0("https://cran.r-project.org/src/contrib/Archive/", pkg, "/")
#     # Read page and extract the table rows
#     if(http_error(url)){
#       url <- paste0("https://cran.r-project.org/web/packages/", pkg, "/") 
#       page <- read_html(url)
#       rows <- html_elements(page, "tr")
#       published_row <- rows[which(
#         rows |> html_text2() |> str_detect("^Published:")
#       )]
#       tds <- html_elements(published_row, "td")
#       page <- html_text(tds[[2]]) |> str_trim()
#     } else{
#       page <- 
#         read_html(url) |> 
#         html_elements("table tr") |> 
#         (\(x) x[[4]])() |> 
#         html_text() |> 
#         str_trim() |> 
#         str_extract("\\d{4}-\\d{2}-\\d{2}")
#     }
#     return(page)
#   }
#   
#   # Set parallel backend
#   if (.parallel) {
#     if (!is.null(.workers)) {
#       plan(multisession, workers = .workers)
#     } else {
#       plan(multisession)
#     }
#   }
#   
#   dates <- future_map_chr(pkgs$pkg, get_pub_date, .progress = TRUE)
#   
#   return(data.frame(pkg = pkgs$pkg, pub_date = dates))
#   
# }
# 
# 
# a <- first_pub_date_r(.workers = 10)
# write.csv(a, "pub_date.csv")
b <- 
  read.csv("pub_date.csv") |> 
  mutate(date = ymd(pub_date))

ggplot(b, aes(x = date)) +
  geom_histogram()


```

---

## Top pacotes
```{r}
library(cranlogs)
df <- 
  cran_top_downloads(when = c("last-day", "last-week", "last-month"),
  count = 10)

ggplot(df, aes(y = reorder(package, count), x = count)) +
  geom_col()
```


---

## Uma vis√£o geral (pacotes)

```{r}
# ## Downloads in the specified time interval
# dfp <- cran_downloads(from = "2000-01-01", to = "2025-06-25")
# 
# df2 <- 
#   dfp |> 
#   filter(count != 0) |> 
#   mutate(date = ymd(date))

# write.csv(df2, "download_pack.csv")
df <- 
  read.csv("download_pack.csv") |> 
  mutate(date = ymd(date))


# download pacotes
ggplot(df, aes(date, count)) +
  geom_smooth() +
  labs(x = "Data",
       y = "N√∫mero de downloads de pacotes") +
  theme_minimal() +
  labs(title = glue("N√∫mero de downloads total: {comma(sum(df$count), big.mark = '.')}"))

```

---

## üß™ Pesquisa

- üî¨ **Pesquisa**:  
  Aplica√ß√µes em melhoramento gen√©tico, experimenta√ß√£o agr√≠cola, estat√≠stica multivariada e fenotipagem de alto rendimento.  
  - Pacotes: `metan`, `pliman`, `FieldimageR`, `agricolae`, `lme4`, `emmeans`.

## üéì Ensino

- üìö **Ensino**:  
  Aprendizado pr√°tico de estat√≠stica e an√°lise de dados.  
  - `AgroR`: interface amig√°vel para an√°lises cl√°ssicas.  
  - `learnr` e `shiny`: tutoriais e apps educacionais interativos.

## üß™ Extens√£o

- üåç **Extens√£o**:  
  Conex√£o entre ci√™ncia e sociedade por meio de dashboards acess√≠veis.  
  - `shiny`, `flexdashboard`, `plotly`, `leaflet`: visualiza√ß√µes din√¢micas para agricultores, t√©cnicos e gestores.

---

## ‚úÖ Conclus√£o

> O **R** √© uma ferramenta **gratuita, poderosa e flex√≠vel**, com uma comunidade ativa e foco em **ci√™ncia aberta**.

- Integra **ensino, pesquisa e extens√£o**.
- Fortalece a forma√ß√£o profissional e a inova√ß√£o no campo. üåæ




---

## Refer√™ncias
::: {layout-ncol="3"}
[![](figs/eambr.png)](https://bendeivide.github.io/book-eambr01/)

[![](figs/book_olivoto.png)](https://tiagoolivoto.github.io/e-bookr/index.html)

[![](figs/r4ds.png)](https://r4ds.had.co.nz/)
:::

---

## üöÄ Hands-on!
